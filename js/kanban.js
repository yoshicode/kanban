/*
@license
Webix Kanban v.5.2.2
This software is covered by Webix Trial License.
Usage without proper license is prohibited.
(c) XB Software Ltd.
*/
!function(t){function e(i){if(n[i])return n[i].exports;var s=n[i]={exports:{},id:i,loaded:!1};return t[i].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var n={};return e.m=t,e.c=n,e.p="/codebase/",e(0)}([function(t,e,n){"use strict";function i(t,e){var n=e.config.status;if("object"===("undefined"==typeof n?"undefined":a(n)))for(var i in n)t[i]=n[i];else"function"==typeof n?n.call(e,t,!0):t.status=n}function s(t){var e=t.config.status;return"object"===("undefined"==typeof e?"undefined":a(e))?function(t){for(var n in e)if(t[n]!=e[n])return!1;return!0}:"function"==typeof e?function(n){return e.call(t,n)}:function(t){return t.status===e}}var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};n(2),n(4),n(6),webix.protoUI({name:"kanban",$init:function(){this.data.provideApi(this,!0),this.$ready.push(function(){this.reconstruct(),this.data.attachEvent("onStoreUpdated",webix.bind(this._applyOrder,this))}),this.serialize=this._serialize},_serialize:function(){var t=[];return this.eachList(function(e){t=t.concat(e.serialize())}),t},_applyOrder:function(t,e,n){return t?void("add"==n?(this._assignList(e),this.getOwnerList(t).add(e)):"delete"===n?this._sublists[e.$list].remove(t):"move"===n||"update"!==n&&"paint"!==n||(this._assignList(e),this.getOwnerList(t).updateItem(t))):void this._syncData()},setListStatus:function(t,e){for(var n=0;n<this._sublists.length;n++)if(this._sublists[n]===e)return void i(this.getItem(t),e)},reconstruct:function(){this._prepareLists(),this._syncData()},_prepareLists:function(){this._sublists=this.queryView(function(t){return t.$kanban},"all"),this._subfilters=[];for(var t=0;t<this._sublists.length;t++){var e=this._sublists[t];this._subfilters[t]=s(e),this.config.icons&&(e.type.icons=e.type.icons||this.config.icons),e.config.master=this.config.id}},_syncData:function(){var t,e=[];for(t=0;t<this._sublists.length;t++)e[t]=[];for(this.data.each(function(t){var n=this._assignList(t);n>=0&&e[n].push(t)},this),t=0;t<this._sublists.length;t++){var n=e[t];n.length&&n[0].$index&&n.sort(function(t,e){return t.$index>e.$index?1:-1}),this._sublists[t].clearAll(),this._sublists[t].data.importData(n)}},_assignList:function(t){for(var e=0;e<this._sublists.length;e++)if(this._subfilters[e](t))return t.$list=e;return-1},getSelectedId:function(){var t=null;return this.eachList(function(e){t=e.getSelectedId()||t}),t},select:function(t){this.getOwnerList(t).select(t)},getOwnerList:function(t){var e=this.getItem(t);return e?this._sublists[e.$list]:null},eachList:function(t){for(var e=0;e<this._sublists.length;e++)t.call(this,this._sublists[e],this._sublists[e].config.status)}},webix.DataLoader,webix.EventSystem,webix.ui.headerlayout)},,function(t,e){"use strict"},,function(t,e,n){"use strict";var i=n(5);webix.protoUI({name:"kanbanlist",$init:function(){this.$view.className+=" webix_kanban_list",this.$ready.push(webix.bind(this._setHandlers,this))},type:i.type},webix.ui.list,webix.KanbanView)},function(t,e){"use strict";e.__esModule=!0;var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.type={height:"auto",icons:[{icon:"pencil"}],tagDemiliter:",",templateTags:function(t,e){var n=[];if(t.tags)for(var i=t.tags.split(e.tagDemiliter),s=0;s<i.length;s++)n.push("<span class='webix_kanban_tag'>"+i[s]+"</span>");return"<div  class='webix_kanban_tags'>"+(n.length?n.join(" "):"&nbsp;")+"</div>"},templateIcons:function(t,e){for(var n=[],i=null,s="",a=0;a<e.icons.length;a++)i=e.icons[a],i.show&&!i.show(t)||(s="<span webix_icon_id='"+(i.id||i.icon||i)+"' class='webix_kanban_icon' title='"+(i.tooltip||"")+"'>",s+="<span class='fa-"+(i.icon||i)+" webix_icon'></span>",i.template&&(s+="<span class='webix_kanban_icon_text'>"+webix.template(i.template)(t)+"</span>"),s+="</span>",n.push(s));return"<div  class='webix_kanban_icons'>"+n.join(" ")+"</div>"},templateNoAvatar:webix.template("<span class='webix_icon fa-user'></span>"),templateAvatar:webix.template(""),templateBody:webix.template("#text#"),templateFooter:function(t,e){var n=e.templateTags(t,e);return(n?n:"&nbsp;")+e.templateIcons(t,e)},templateStart:webix.template("<div webix_l_id='#id#' class='{common.classname()} webix_kanban_list_item' style='width:{common.width}px; height:{common.height}px;'>"),template:function(t,e){var n=e.templateAvatar(t,e),i="<div class='webix_kanban_user_avatar' webix_icon_id='$avatar'>"+(n?n:e.templateNoAvatar(t,e))+"</div>",s="<div class='webix_kanban_body'>"+e.templateBody(t,e)+"</div>",a="<div class='webix_kanban_footer'>"+e.templateFooter.call(this,t,e)+"</div>",o="border-left-color:"+t.color;return i+"<div class='webix_kanban_list_content' style='"+o+"'>"+s+a+"</div>"}};webix.KanbanView={$kanban:!0,on_context:{},$skin:function(){},getKanban:function(){return webix.$$(this.config.master)},_kanban_event:function(t,e,n){this.attachEvent(t,function(){for(var t=arguments.length,i=Array(t),s=0;s<t;s++)i[s]=arguments[s];return i[n]=this,this.getKanban().callEvent(e,i)})},_fixOrder:function(){this.data.each(function(t,e){return t.$index=e+1})},move:function(t,e,n,i){if(!webix.isArray(t)){var s=this.getKanban();if(n!==this)return void(s.callEvent("onBeforeStatusChange",[t,n.config.status,n])&&(s.setListStatus(t,n),webix.DataMove.move.call(this,t,e,n,i),this._fixOrder(),s.callEvent("onAfterStatusChange",[t,n.config.status,n])))}webix.DataMove.move.call(this,t,e,n,i)},_setHandlers:function(){this.attachEvent("onAfterSelect",function(){this.eachOtherList(function(t){t.unselect()})}),this._kanban_event("onBeforeSelect","onListBeforeSelect",2),this._kanban_event("onAfterSelect","onListAfterSelect",1),this._kanban_event("onBeforeContextMenu","onListBeforeContextMenu",3),this._kanban_event("onAfterContextMenu","onListAfterContextMenu",3),this._kanban_event("onItemClick","onListItemClick",3),this._kanban_event("onItemDblClick","onListItemDblClick",3),this._kanban_event("onBeforeDrag","onListBeforeDrag",2),this._kanban_event("onBeforeDrop","onListBeforeDrop",2),this._kanban_event("onBeforeDragIn","onListBeforeDragIn",2),this._kanban_event("onDragOut","onListDragOut",2),this.on_click.webix_kanban_user_avatar=this._handle_icons,this.on_click.webix_kanban_icon=this._handle_icons},_handle_icons:function(t,e,i){var s=i.getAttribute("webix_icon_id"),a=this.type.icons;if(a)for(var o=0;o<a.length;o++)"object"===n(a[o])&&(a[o].id||a[o].icon)===s&&a[o].click&&a[o].click.call(this,e,t,i,this);return"$avatar"===s?(this.getKanban().callEvent("onAvatarClick",[e,t,i,this]),!0):(this.getKanban().callEvent("onListIconClick",[s,e,t,i,this]),!1)},$dragCreate:function(t,e){var n=webix.DragControl.$drag(t,e);if(!n)return!1;var i=document.createElement("DIV");return i.innerHTML=n,i.className="webix_drag_zone webix_kanban_drag_zone",document.body.appendChild(i),i},$dragPos:function(t){t.x=t.x-4,t.y=t.y-4},eachOtherList:function(t){var e=this.config.id,n=this.getKanban();n.eachList(function(n){n.config.id!=e&&t.call(webix.$$(e),n)})},defaults:{drag:!0,select:!0}}},function(t,e,n){"use strict";var i=n(5),s=webix.copy(i.type);s.width=150,webix.protoUI({name:"kanbandataview",$init:function(){this.$view.className+=" webix_kanban_list",this.$ready.push(webix.bind(this._setHandlers,this))},defaults:{prerender:!0},type:s},webix.ui.dataview,webix.KanbanView)}]);